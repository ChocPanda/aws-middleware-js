<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1247" height="444" viewBox="-0.5 -0.5 1247 444" content="&lt;mxfile modified=&quot;2019-05-02T16:11:44.605Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot; etag=&quot;DwzMFmfOoXjZYVGJcXJ_&quot; version=&quot;10.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;12e1b939-464a-85fe-373e-61e167be1490&quot;&gt;7Vtbk6I6EP411j6tRRLk8uh1d6vOma0aZ2tqHyNEYQeIC3HU/fWbQFQwjDJ1RJijvkg6ISH9dXf664IOGoabLzFeev9SlwQdqLmbDhp1IATI1vmfkGwziQl7mWAR+64cdBBM/T9ECjUpXfkuSQoDGaUB85dFoUOjiDisIMNxTNfFYXMaFFdd4gVRBFMHBztpt3eQP/su86QcGPah4yvxF55c3IJG1jHDzssipqtIrtiBaJ7+su4Q7+aSW0087NJ1ToTGHTSMKWXZVbgZkkBod6e47L7JG737/cQkYlVuMDQXWzN7rkND112EP8NshlccrMhuC+mDsu1OPWvPZ2S6xI5or7kJdNDAY2HAW4BfprsnrmztN6iJBovpy16jFpfMacSkAUAxAgf+IuINhz8/icUAPwiGNKBxujaajEcQmPup8j3pj/eoKpBaeSUxI5ucSKrkC6EhYfGWD5G9CEg4pQHrmjSI9cEYoCUh9HJ2oCMpxNIEF/u5DyDwC4lDRUyQgsm3h29PCi58c6wIRVFJEY3IkUalSNG6UJXPHaIvO0LfdcUygzLsD4Brx4Dn4TVluwyzdJzcSYkN/3cAYUUAjTrw0xX8hh5xXkRY84i4MfKZzzFIMPNpJAIbdkQHX8kIBKSzmF8txJU/F+PZp4T/kXDJtvnbyX7GAIczF6u3fzCbAfoJm6nBTMyqZmLXYSbG+dAb+Knui3EUvhV/z7rjyWgrca430KIjP7VKANBLAAB1AGDeATDLTrqrAWApAPSfpyLSvYodHmPBJ+MZ4VsRphogRSCNkvBzLiMZTAZ63z6JU40RDPbsAn49XcUPgF4JfjvhRQG0z3tQ/qjJI+HixNtjVP1w4XMsxczhZiHISDfL/2FXrMhPRLcv2mJ6oSCtKxBOiYoulokoc4SSuC44SoQn52IxPkxXraZgKKDEl88enBkXgI5zGeh1rei6PROp0GvXynFAheDZKHGYDDVNzW8u7I49u1XEAagBdTCefH8cf7A88KrcQcGwUe4A1JA6Jb9XfHs85Q/EY8crQRlwOk2a/R8n/TMyp7FgBRkSa66c5E4N3mkFzVKDXbnollJT45jDN8oN9s9/wwg0Sw6gWga7J5d1JZeG1abkEqoVtJYll4MrJJeW2arkcncg5kD52n8Y/TN+/GCpxFWzSwXERrNLqNYcxxvirJhIF39+/8Gh1GarhJ9riag4B3ThO/fU8Z0QN5w63mBV0zqmcM2mjioLvzkEGk4dVRL9QOOQa+kP16cSz9pcbh5PbNRDJ+GrM7SBVpWbUQVafKcEF6IEttEmSoAq8PFmX1SxbU076acXwIS7Vas4AYIKKv3J050RvA/DRikBUsss94Jzp37WoJhBs7QBVSi5/N+SVgCOyXmjvAGpBZbbg6BZ4oDU+sgjSVZBW9mBYQ2s3rApdgA0u130oELp404PLkQPANRbxQ/Uogv33CWNxFuyrfTdwcRAdr8x30Vmk777+2VmJGg02v5KHuMImk+uDj6rFO8GXgdUICsB9u23FpC1+3blAGO3RiB58/CxStqX+yYIjf8C&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><filter id="dropShadow"><feGaussianBlur in="SourceAlpha" stdDeviation="1.7" result="blur"/><feOffset in="blur" dx="3" dy="3" result="offsetBlur"/><feFlood flood-color="#3D4574" flood-opacity="0.4" result="offsetColor"/><feComposite in="offsetColor" in2="offsetBlur" operator="in" result="offsetBlur"/><feBlend in="SourceGraphic" in2="offsetBlur"/></filter></defs><g filter="url(#dropShadow)"><rect x="60" y="4" width="280" height="430" rx="42" ry="42" fill="#fed217" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(174.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 52px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">INIT</div></div></foreignObject><text x="26" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">INIT</text></switch></g><g transform="translate(101.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 198px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Check the initialisation cache,<br />if it's empty initialise the lambda<br /></div></div></foreignObject><text x="98" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 80 89 L 320 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 80 309 L 320 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="61" cy="202" rx="57.5" ry="57.5" fill="#bfb4a9" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(24.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AWS event</div></div></foreignObject><text x="35" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">AWS event</text></switch></g><path d="M 150 184 L 210 190 L 200 172 L 250 202 L 200 232 L 210 214 L 150 220 L 165 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="340" y="4" width="280" height="430" rx="42" ry="42" fill="#ffc001" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(423.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="112" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 114px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">BEFORE</div></div></foreignObject><text x="56" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">BEFORE</text></switch></g><g transform="translate(408.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 142px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Sequentially run all the<br />before middlewares<br /></div></div></foreignObject><text x="71" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Sequentially run all the&lt;br&gt;before middlewares&lt;br&gt;</text></switch></g><path d="M 360 89 L 600 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 360 309 L 600 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 184 L 490 190 L 480 172 L 530 202 L 480 232 L 490 214 L 430 220 L 445 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="620" y="4" width="280" height="430" rx="42" ry="42" fill="#ffb001" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(693.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">HANDLER</div></div></foreignObject><text x="66" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">HANDLER</text></switch></g><g transform="translate(666.5,361.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="186" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Execute YOUR business logic<br /></div></div></foreignObject><text x="93" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Execute YOUR business logic&lt;br&gt;</text></switch></g><path d="M 640 89 L 880 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 309 L 880 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="621" cy="202" rx="57.5" ry="57.5" fill="#ef9353" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(584.5,185.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 72px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Normalized<br />event</div></div></foreignObject><text x="35" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Normalized&lt;br&gt;event</text></switch></g><path d="M 710 184 L 770 190 L 760 172 L 810 202 L 760 232 L 770 214 L 710 220 L 725 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="900" y="4" width="280" height="430" rx="42" ry="42" fill="#fe9900" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(994.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="90" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 91px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AFTER</div></div></foreignObject><text x="45" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">AFTER</text></switch></g><g transform="translate(968.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 142px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Sequentially run all the<br />before middlewares<br /></div></div></foreignObject><text x="71" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Sequentially run all the&lt;br&gt;before middlewares&lt;br&gt;</text></switch></g><path d="M 920 89 L 1160 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 309 L 1160 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="901" cy="202" rx="57.5" ry="57.5" fill="#68b85c" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(879.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="40" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 40px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Result</div></div></foreignObject><text x="20" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Result</text></switch></g><path d="M 990 184 L 1050 190 L 1040 172 L 1090 202 L 1040 232 L 1050 214 L 990 220 L 1005 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><ellipse cx="1181" cy="202" rx="57.5" ry="57.5" fill="#bf639a" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(1147.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="64" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 64px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Response</div></div></foreignObject><text x="32" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Response</text></switch></g><ellipse cx="340" cy="202" rx="57.5" ry="57.5" fill="#bfb4a9" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(304.5,194.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AWS event</div></div></foreignObject><text x="35" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">AWS event</text></switch></g></g></svg>